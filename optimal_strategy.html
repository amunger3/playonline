<!DOCTYPE HTML>
<html lang="en">

  <head>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    
    <title>Play Super Master Mind online - Optimal strategy</title>
    <meta name="title" content="Play Super Master Mind online - Optimal strategy">
    <meta name="description" content="Play Super Master Mind / Code breaker online, assisted by a calculator which knows the optimal strategy!">
    <meta name="keywords" content="super master mind, code breaker, optimal strategy, score, efficient">    

    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- scale for smartphones -->
    
    <link rel="stylesheet" type="text/css" href="style/style.css">
    <script src="common_functions.js"></script>
    
    <script src='lib/jquery-3.4.1.min.js'></script>
    <!-- <script>
      // Animation during page loading:
      // 1) when document is ready
      $(document).ready(function () {
        console.log("(ready)");
        $(".main").hide(); // hide the main div
      });
      // 2) when all elements of the page are completely loaded
      $(window).on('load', function() {
        console.log("(on load)");
        $(".loading").fadeOut("slow"); // loading div fades out
        $(".main").fadeIn("slow"); // main div fades in
      }); 
      // 2') Defense timeout to allow interactions with the page
      setTimeout("console.log('(on load timeout)');$('.loading').fadeOut('slow');", 5000); // loading div fades out
    </script> -->

    <script>
      function makeid() {
        let text = "";
        let possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
        for (let i = 0; i < 5; i++) {
          text += possible.charAt(Math.floor(Math.random() * possible.length));
        }
        return text;
      }

      let firstOptimalStrategyAccess = false;      
      if (typeof(Storage) !== 'undefined') {
        if (!localStorage.firstoptimalstrategydone) {
          localStorage.firstoptimalstrategydone = "first optimal strategy access done";
          firstOptimalStrategyAccess = true;
        }      
        if (!localStorage.firstaccessid) {
          let firstaccessid = 'OP - ' + makeid() + ' - ' + new Date();
          localStorage.firstaccessid = firstaccessid;
        }
      }    
    </script>
  </head>

  <body>
  
    <!-- <div class="loading">
      <img src="img/loading.gif" style='width:5.5rem'><br>
      Loading...
    </div> -->    
  
    <div id="main">

      <!-- HEADER -->
      <script>write_menu(2);</script>

      <div id="site_content">

        <!-- SIDEBAR -->
        <script>write_sidebar();</script>

        <!-- MAIN CONTENT -->
        <div id="content">

          <script>write_introduction()</script>

          <a href='index.html' style="text-decoration:none;"><b>See rules & play online!</b>
          </a>          

          <hr style="height:0.5rem; visibility:hidden;" />
          <h2>Optimal strategy</h2>
                    
          <!-- OPTIMAL STRATEGY DETAILS -->
          <script>write_optimal_strategy_details_2();</script>
          
          <h3>Very easy game (3 columns, 5 colors):</h3>
          
          <b>
          <table style='margin-right:3vw;padding:0;border-collapse:collapse'>
            <tr>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFCC00;color:black;text-align:center'>Code</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFCC00;color:black;text-align:center'>Average number of attempts to find secret codes</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFCC00;color:black;text-align:center'>&Delta;</td>
            </tr>
            <tr>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>123</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>3.640</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>0.00</td>
            </tr>
            <tr>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>122</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>3.648</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>-0.01</td>
            </tr>
            <tr>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>111</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>4.112</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:#FF7700;text-align:center'>-0.47</td>
            </tr>
          </table>
          </b>
          <hr style="height:0.5rem; visibility:hidden;" />
          For very easy games (3 columns, 5 colors, 5<sup>3</sup>&nbsp;=&nbsp;<b>125 codes</b>, <font color=#CC0099><b>optimal logical strategy</b></font> applied), <b>the optimal code to play at first attempt is 123</b> (or any other equivalent code with 3 different colors) with an average number of attempts to find secret codes of <b><sup>455</sup>&frasl;<sub>5<sup>3</sup></sub>&nbsp;=&nbsp;3.640</b> and a maximal number of attempts of <b>5</b>.
          
          <h3>Master Mind game (4 columns, 6 colors):</h3>
          
          <b>
          <table style='margin-right:3vw;padding:0;border-collapse:collapse'>
            <tr>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFCC00;color:black;text-align:center'>Code</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFCC00;color:black;text-align:center'>Average number of attempts to find secret codes</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFCC00;color:black;text-align:center'>&Delta;</td>
            </tr>
            <tr>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>1233</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>4.367</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>0.00</td>
            </tr>
            <tr>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>1234</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>4.431</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>-0.06</td>
            </tr>
            <tr>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>1122</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>4.438</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>-0.07</td>
            </tr>
            <tr>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>1222</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>4.512</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>-0.15</td>
            </tr>
            <tr>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>1111</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>4.907</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:#F00000;text-align:center'>-0.54</td>
            </tr>              
          </table>
          </b>
          <hr style="height:0.5rem; visibility:hidden;" />
          For Master Mind games (4 columns, 6 colors, 6<sup>4</sup>&nbsp;=&nbsp;<b>1296 codes</b>, <font color=#CC0099><b>optimal logical strategy</b></font> applied), <b>the optimal code to play at first attempt is 1233</b> (or any other equivalent code with "1 double + 2 other different colors")</b> with an average number of attempts to find secret codes of <b><sup>5660</sup>&frasl;<sub>6<sup>4</sup></sub>&nbsp;&asymp;&nbsp;4.367</b> and a maximal number of attempts of <b>6</b>.
          <hr style="height:0.5rem; visibility:hidden;" />
          This average number of attempts is slightly higher than the number offered by the Koyama and Lai's mathematically optimal strategy which allows playing impossible/illogical codes at each stage of the game (<b><sup>5625</sup>&frasl;<sub>6<sup>4</sup></sub>&nbsp;&asymp;&nbsp;4.340</b>, up to <b>6</b> attempts, <b>1233</b> as first attempt).
          <hr style="height:0.5rem; visibility:hidden;" />
          Indeed, the option of playing impossible/illogical codes (in addition to the possible/logical codes) brings more flexibility which results in benefits in some situations. This is illustrated in the below example (which corresponds to a game where the maximal number of attempts of the <font color=#CC0099><b>optimal logical strategy</b></font> is reached):
          <hr style="height:0.5rem; visibility:hidden;" />
          <a href="img/MasterMind_game_illogical_strategy.png"><img src="img/MasterMind_game_illogical_strategy.png" style="width:55%;border-color:#F00000;margin-top:4px;margin-right:4px"><small>click to enlarge</small></a>
          <hr style="height:0.5rem; visibility:hidden;" />
          With a mathematically optimal strategy like Koyama and Lai's, between 0 and 2 impossible/illogical codes are played at the second and/or third attempts of the 6<sup>4</sup> games (0 being by far the most common case, then coinciding with the <font color=#CC0099><b>optimal logical strategy</b></font>). Here is an example showing how such a mathematically optimal strategy behaves in an "extreme" case where 2 impossible/illogical codes are played (without those 2 impossible/illogical codes, the mathematically optimal <sup>5625</sup>&frasl;<sub>6<sup>4</sup></sub> performance is not reached):
          <hr style="height:0.5rem; visibility:hidden;" />
          <a href="img/MasterMind_game_illogical_strategy_2.png"><img src="img/MasterMind_game_illogical_strategy_2.png" style="width:55%;border-color:#F00000;margin-top:4px;margin-right:4px"><small>click to enlarge</small></a>
          
          <h3>Super Master Mind game (5 columns, 8 colors):</h3>
          
          <b>
          <table style='margin:0;padding:0;border-collapse:collapse'>
            <tr>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFCC00;color:black;text-align:center'>Code</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFCC00;color:black;text-align:center'>Average number of attempts to find secret codes</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFCC00;color:black;text-align:center'>&Delta;</td>
            </tr>
            <tr>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>12233</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>5.491</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>0.00</td>
            </tr>
            <tr>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>12344</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>5.495</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>0.00</td>
            </tr>
            <tr>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>12345</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>5.537</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>-0.05</td>
            </tr>
            <tr>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>12333</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>5.539</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>-0.05</td>
            </tr>
            <tr>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>11222</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>5.593</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>-0.10</td>
            </tr>
            <tr>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>12222</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>5.704</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>-0.21</td>
            </tr>
            <tr>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>11111</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:black;text-align:center'>6.086</td>
              <td style='border:1px solid black;margin:0;padding:0.5rem;background:#FFFFFF;color:#F00000;text-align:center'>-0.60</td>
            </tr>              
          </table>
          </b>
          <hr style="height:0.5rem; visibility:hidden;" />
          For Super Master Mind games (5 columns, 8 colors, 8<sup>5</sup>&nbsp;=&nbsp;<b>32768 codes</b>, <font color=#CC0099><b>optimal logical strategy</b></font> applied), <b>the optimal code to play at first attempt is 12233</b> (or any other equivalent code with "2 doubles + 1 different color") with an average number of attempts to find secret codes of <b><sup>179929</sup>&frasl;<sub>8<sup>5</sup></sub>&nbsp;&asymp;&nbsp;5.491</b> and a maximal number of attempts of <b>8</b>.
          <hr style="height:0.5rem; visibility:hidden;" />
          It is very close to the average number of attempts of <b>12344</b> as first attempt: <b><sup>180053</sup>&frasl;<sub>8<sup>5</sup></sub>&nbsp;&asymp;&nbsp;5.495</b>. In the online game, as their difference is&nbsp;0.004&nbsp;<&nbsp;0.005, both 12233 and 12344 will be indicated as "optimal" first codes, even if only 12233 is actually (optimality indication with &plusmn;0.005&nbsp;precision to simplify).

          <h3>Strategy performances:</h3>          
          <ul style='margin:0'>
            <li style='list-style-type:disc'>With a mathematically optimal strategy (like Koyama and Lai's for Master Mind games), &Delta; values (i.e. performances of codes played relative to the performance of optimal code(s)) are always in the range <b>[-1;0]</b>. That rule applies whichever numbers of columns and colors.</li>
            <li style='list-style-type:disc'>With the <font color=#CC0099><b>optimal logical strategy</b></font>, &Delta; values are in a wider range <b>[X;Y] with X<-1 and Y>0</b>. For example, some observed values for Super Master Mind games were:
              <ul style='margin:0'>
                <li style='list-style-type:circle'>&Delta;&nbsp;=&nbsp;-1.35 for a code which reduces the number of possible codes but makes the rest of the game harder to solve, which at the end makes it even worse than a totally useless code which would not have modified the number of possible codes,</li>
                <li style='list-style-type:circle'>&Delta;&nbsp;=&nbsp;+0.94 for a very efficient impossible/illogical code, in a typical situation where some colors are known and distinguishing the remaining colors is more efficient to do by playing an impossible/illogical code:
                  <hr style="height:0.25rem; visibility:hidden;" />
                  <a href="img/MasterMind_game_illogical_strategy_3.png"><img src="img/MasterMind_game_illogical_strategy_3.png" style="width:55%;border-color:#F00000;margin-top:4px;margin-right:4px"><small>click to enlarge</small></a>                
                </li>
              </ul>
            </li>
          </ul>

        </div>

      </div>

      <!-- FOOTER -->
      <div id="footer">
      </div>

    </div>

  </body>

</html>